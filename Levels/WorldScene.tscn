[gd_scene load_steps=21 format=2]

[ext_resource path="res://Scripts/Control.gd" type="Script" id=1]
[ext_resource path="res://Scripts/AgentControl.gd" type="Script" id=2]
[ext_resource path="res://Scripts/CameraScript.gd" type="Script" id=3]
[ext_resource path="res://Scripts/WorldScript.gd" type="Script" id=4]
[ext_resource path="res://Levels/Path.gd" type="Script" id=5]
[ext_resource path="res://Art/TexturesCom_Meat0016_seamless_S.jpg" type="Texture" id=6]
[ext_resource path="res://Levels/VectorField.gd" type="Script" id=7]
[ext_resource path="res://Sounds/211389__monica137142__underwater.mp3" type="AudioStream" id=8]
[ext_resource path="res://Levels/BloodFlowSounds.gd" type="Script" id=9]
[ext_resource path="res://Sounds/explosion.mp3" type="AudioStream" id=10]
[ext_resource path="res://icon.png" type="Texture" id=11]
[ext_resource path="res://Art/Shaders/new_visualshader.tres" type="Shader" id=12]
[ext_resource path="res://Art/perlin1.png" type="Texture" id=13]

[sub_resource type="ShaderMaterial" id=9]
shader = ExtResource( 12 )
shader_param/tiling = 4.0
shader_param/warp_tiling = 3.0
shader_param/timescale = 0.02
shader_param/warp_str = 0.1

[sub_resource type="Curve2D" id=1]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 112.155, 1605, 0, 0, 0, 0, 1190.66, -403.213 )
}

[sub_resource type="CircleShape2D" id=2]

[sub_resource type="ShaderMaterial" id=3]
shader = ExtResource( 12 )
shader_param/tiling = null
shader_param/warp_tiling = null
shader_param/timescale = null
shader_param/warp_str = null

[sub_resource type="CircleShape2D" id=4]
radius = 886.05

[sub_resource type="ShaderMaterial" id=5]
shader = ExtResource( 12 )
shader_param/tiling = null
shader_param/warp_tiling = null
shader_param/timescale = null
shader_param/warp_str = null

[sub_resource type="ShaderMaterial" id=6]
shader = ExtResource( 12 )
shader_param/tiling = -0.048
shader_param/warp_tiling = 0.117
shader_param/timescale = 0.07
shader_param/warp_str = 0.022

[node name="WorldScene" type="Node2D"]
script = ExtResource( 4 )
__meta__ = {
"_edit_horizontal_guides_": [  ]
}

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 2525.61, 1516.88 )
current = true
zoom = Vector2( 3, 3 )
script = ExtResource( 3 )
defaultZoom = 5.0

[node name="BloodFlowSounds" type="AudioStreamPlayer" parent="Camera2D"]
stream = ExtResource( 8 )
autoplay = true
script = ExtResource( 9 )

[node name="ParallaxBackground" type="ParallaxBackground" parent="Camera2D"]
layer = -1
follow_viewport_enable = true
follow_viewport_scale = 0.7

[node name="Light2D2" type="Light2D" parent="Camera2D/ParallaxBackground"]
position = Vector2( 3565.25, 1520.37 )
rotation = -1.77725
scale = Vector2( 13.8537, 28.0982 )
texture = ExtResource( 13 )
texture_scale = 0.82
energy = 1.45
mode = 2
range_height = 62.3
range_layer_min = -10

[node name="Sprite" type="Sprite" parent="Camera2D/ParallaxBackground"]
visible = false
modulate = Color( 0.32549, 0.266667, 0.266667, 1 )
position = Vector2( 2798.5, 1621.65 )
scale = Vector2( 8.37564, 8.37564 )
texture = ExtResource( 6 )

[node name="Sprite2" type="Sprite" parent="Camera2D/ParallaxBackground"]
modulate = Color( 0.32549, 0.266667, 0.266667, 1 )
material = SubResource( 9 )
position = Vector2( 3558.53, 2164.72 )
scale = Vector2( 8.37564, 8.37564 )
z_as_relative = false
texture = ExtResource( 6 )

[node name="AgentControl" type="Node2D" parent="."]
script = ExtResource( 2 )
agentPath = NodePath("Agent")
enemyPath = NodePath("AgentEnemy1")
FlowMap = NodePath("../VectorField")
path = NodePath("../Path")
separation = 0.5
alignment = 0.5
cohesion = 0.6
followpaths = false
agentAmount = 200
agentSpawnArea = 500.0
drawNeighbors = false
neighborDist = 80.0
forceMultiplier = 5.0
boundsX = 5000
boundsY = 3000

[node name="Agent" parent="AgentControl" instance_placeholder="res://Scripts/Objects/Agent.tscn"]
steerUpdateInterval = 0.0

[node name="AgentEnemy1" parent="AgentControl" instance_placeholder="res://Scripts/Objects/Agent.tscn"]
maxSpeed = 2
health = 600.0
armor = 65.0
id = 1
wander = true
targetseek = 0.0

[node name="Test Interface" type="CanvasLayer" parent="."]

[node name="MouseCoord" type="Label" parent="Test Interface"]
anchor_right = 0.039
anchor_bottom = 0.052
margin_left = 33.8541
margin_top = 30.2905
margin_right = 33.9181
margin_bottom = 30.0905
text = "TEXT
"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="FlowMapValue" type="Label" parent="Test Interface"]
anchor_right = 0.039
anchor_bottom = 0.052
margin_left = 33.8541
margin_top = 46.6695
margin_right = 33.9181
margin_bottom = 46.4695
text = "TEXT
"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MapCoord" type="Label" parent="Test Interface"]
visible = false
anchor_right = 0.039
anchor_bottom = 0.052
margin_left = 33.8541
margin_top = 46.6695
margin_right = 33.9181
margin_bottom = 46.4695
text = "TEXT
"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Control" type="Control" parent="Test Interface"]
margin_right = 40.0
margin_bottom = 40.0
script = ExtResource( 1 )
__meta__ = {
"_edit_use_anchors_": false
}
mouseCoordLabel = NodePath("../MouseCoord")
agentControl = NodePath("../../AgentControl")
flowMapLabel = NodePath("../FlowMapValue")

[node name="AttackSound" type="AudioStreamPlayer2D" parent="Test Interface/Control"]
stream = ExtResource( 10 )

[node name="DebugButton" type="Button" parent="Test Interface"]
margin_right = 12.0
margin_bottom = 20.0
toggle_mode = true
text = "debug"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VectorField" type="Node2D" parent="."]
script = ExtResource( 7 )
AgentControl = NodePath("../AgentControl")
resolution = 20
noiseZoom = 1.0
drawVectorLength = 20

[node name="Path" type="Path2D" parent="."]
self_modulate = Color( 0.501961, 0.6, 1, 1 )
position = Vector2( -228.327, 190.273 )
curve = SubResource( 1 )
script = ExtResource( 5 )

[node name="ball" type="RigidBody2D" parent="."]
position = Vector2( 3962.58, 1191.66 )
scale = Vector2( 4.67993, 4.67993 )
can_sleep = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="ball"]
scale = Vector2( 10, 10 )
shape = SubResource( 2 )

[node name="Sprite" type="Sprite" parent="ball"]
visible = false
material = SubResource( 3 )
scale = Vector2( 10, 10 )
texture = ExtResource( 11 )

[node name="thingy" type="KinematicBody2D" parent="."]
position = Vector2( 4280, 2312 )
scale = Vector2( 2.13983, 2.13983 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="thingy"]
scale = Vector2( 0.4, 0.4 )
shape = SubResource( 4 )

[node name="Sprite" type="Sprite" parent="thingy"]
material = SubResource( 5 )
scale = Vector2( 10, 10 )
texture = ExtResource( 11 )

[node name="Light2D" type="Light2D" parent="."]
position = Vector2( 1975.84, 873.832 )
rotation = -1.77725
scale = Vector2( 13.8537, 28.0982 )
texture = ExtResource( 13 )
texture_scale = 0.82
energy = 1.45
mode = 2
range_height = 62.3

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="Polygon2D" type="Polygon2D" parent="StaticBody2D"]
material = SubResource( 6 )
position = Vector2( 6130.72, 1259.27 )
rotation = -3.0438
scale = Vector2( 3.13191, 3.13191 )
texture = ExtResource( 11 )
texture_scale = Vector2( 0.286, 0.452 )
polygon = PoolVector2Array( 159.034, 98.1882, 215.034, 34.1882, 269.034, 18.1882, 349.034, 30.1882, 389.034, 102.188, 369.034, 148.188, 391.034, 212.188, 431.034, 230.188, 475.034, 232.188, 513.034, 214.188, 535.034, 160.188, 511.034, 84.1882, 579.034, 38.1882, 699.034, 14.1882, 761.034, 44.1882, 825.034, 104.188, 883.034, 176.188, 965.034, 182.188, 1115.03, 200.188, 1203.03, 172.188, 1231.03, 122.188, 1281.03, 56.1882, 1379.03, 48.1882, 1473.03, 80.1882, 1505.03, 138.188, 1485.03, 196.188, 1455.03, 242.188, 1439.03, 302.188, 1455.03, 362.188, 1489.03, 392.188, 1575.03, 394.188, 1613.03, 364.188, 1683.03, 312.188, 1695.03, 380.188, 1673.03, 436.188, 1625.03, 470.188, 1613.03, 522.188, 1647.03, 598.188, 1667.03, 646.188, 1661.03, 718.188, 1593.03, 788.188, 1467.03, 842.188, 1389.03, 876.188, 1215.03, 768.188, 1095.03, 750.188, 1043.03, 812.188, 979.034, 868.188, 887.034, 888.188, 821.034, 838.188, 743.034, 786.188, 623.034, 842.188, 617.034, 896.188, 573.034, 932.188, 473.034, 950.188, 379.034, 938.188, 335.034, 864.188, 311.034, 784.188, 267.034, 736.188, 201.034, 742.188, 109.034, 748.188, 57.0341, 782.188, -78.9659, 762.188, -114.966, 708.188, -132.966, 630.188, -108.966, 526.188, -74.9659, 380.188, -156.966, 246.188, -80.9659, 96.1882, 135.034, 64.1882 )
uv = PoolVector2Array( -2019.57, -617.517, -1786.09, -884.355, -1560.94, -951.066, -1227.4, -901.034, -1060.62, -600.841, -1144.01, -409.051, -1052.28, -142.213, -885.509, -67.1663, -702.057, -58.8259, -543.622, -133.875, -451.897, -359.019, -551.962, -675.887, -268.446, -867.677, 231.875, -967.742, 490.375, -842.661, 757.214, -592.503, 999.034, -292.31, 1340.92, -267.294, 1966.31, -192.245, 2333.21, -308.986, 2449.95, -517.454, 2658.42, -792.631, 3067.01, -825.985, 3458.93, -692.566, 3592.35, -450.746, 3508.96, -208.924, 3383.88, -17.1338, 3317.17, 233.029, 3383.88, 483.189, 3525.64, 608.268, 3884.2, 616.608, 4042.64, 491.527, 4334.49, 274.721, 4384.52, 558.238, 4292.8, 791.72, 4092.67, 933.477, 4042.64, 1150.28, 4184.4, 1467.15, 4267.78, 1667.28, 4242.77, 1967.47, 3959.25, 2259.33, 3433.92, 2484.47, 3108.71, 2626.23, 2383.24, 2175.94, 1882.92, 2100.89, 1666.12, 2359.39, 1399.29, 2592.88, 1015.71, 2676.26, 740.536, 2467.8, 415.327, 2250.99, -84.9937, 2484.47, -110.01, 2709.62, -293.462, 2859.71, -710.395, 2934.76, -1102.32, 2884.73, -1285.77, 2576.2, -1385.83, 2242.65, -1569.28, 2042.52, -1844.46, 2067.54, -2228.04, 2092.56, -2444.84, 2234.31, -3011.88, 2150.93, -3161.97, 1925.78, -3237.02, 1600.57, -3136.96, 1166.96, -2995.2, 558.238, -3337.08, -0.455444, -3020.21, -625.857, -2119.63, -759.276 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
visible = false
position = Vector2( 6150.88, 1269.35 )
rotation = -3.0438
scale = Vector2( 3.13191, 3.13191 )
polygon = PoolVector2Array( 159.034, 98.1882, 215.034, 34.1882, 269.034, 18.1882, 349.034, 30.1882, 389.034, 102.188, 369.034, 148.188, 391.034, 212.188, 431.034, 230.188, 475.034, 232.188, 513.034, 214.188, 535.034, 160.188, 511.034, 84.1882, 579.034, 38.1882, 699.034, 14.1882, 761.034, 44.1882, 825.034, 104.188, 883.034, 176.188, 965.034, 182.188, 1115.03, 200.188, 1203.03, 172.188, 1231.03, 122.188, 1281.03, 56.1882, 1379.03, 48.1882, 1473.03, 80.1882, 1505.03, 138.188, 1485.03, 196.188, 1455.03, 242.188, 1439.03, 302.188, 1455.03, 362.188, 1489.03, 392.188, 1575.03, 394.188, 1613.03, 364.188, 1683.03, 312.188, 1695.03, 380.188, 1673.03, 436.188, 1625.03, 470.188, 1613.03, 522.188, 1647.03, 598.188, 1667.03, 646.188, 1661.03, 718.188, 1593.03, 788.188, 1467.03, 842.188, 1389.03, 876.188, 1215.03, 768.188, 1095.03, 750.188, 1043.03, 812.188, 979.034, 868.188, 887.034, 888.188, 821.034, 838.188, 743.034, 786.188, 623.034, 842.188, 617.034, 896.188, 573.034, 932.188, 473.034, 950.188, 379.034, 938.188, 335.034, 864.188, 311.034, 784.188, 267.034, 736.188, 201.034, 742.188, 109.034, 748.188, 57.0341, 782.188, -78.9659, 762.188, -114.966, 708.188, -132.966, 630.188, -108.966, 526.188, -74.9659, 380.188, -156.966, 246.188, -80.9659, 96.1882, 135.034, 64.1882 )
__meta__ = {
"_editor_description_": ""
}

[node name="StaticBody2D2" type="StaticBody2D" parent="."]
collision_mask = 0

[node name="Polygon2D2" type="Polygon2D" parent="StaticBody2D2"]
position = Vector2( 5136.88, 5190.84 )
rotation = -3.10334
scale = Vector2( 3.13191, 3.13191 )
color = Color( 1, 1, 1, 0.258824 )
texture = ExtResource( 6 )
texture_scale = Vector2( 0.286, 0.452 )
polygon = PoolVector2Array( 1734.75, 32.7056, 2055.95, 703.297, 2055, 1053.38, 2250.04, 1651.33, 1834.41, 1934.17, 1308.57, 2058.37, 1187.85, 1890.68, 1379.86, 1736.61, 1751.65, 1598.68, 1674.9, 1317.56, 1457.74, 1116.41, 1444.24, 838.61, 1274.91, 612.68, 1204.78, 666.291, 1095.03, 750.188, 1043.03, 812.188, 979.034, 868.188, 887.034, 888.188, 821.034, 838.188, 743.034, 786.188, 623.034, 842.188, 617.034, 896.188, 573.034, 932.188, 473.034, 950.188, 379.034, 938.188, 335.034, 864.188, 311.034, 784.188, 267.034, 736.188, 201.034, 742.188, 109.034, 748.188, 100.06, 1350.69, -230.862, 1400.65, -417.377, 1175.38, -509.237, 949.356, -631.844, 744.592, -966.48, 622.544, -978.499, 83.5828 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D2"]
visible = false
position = Vector2( 5329.74, 4058.9 )
rotation = -3.10334
scale = Vector2( 3.13191, 3.13191 )
polygon = PoolVector2Array( 1734.75, 32.7056, 2055.95, 703.297, 2055, 1053.38, 2250.04, 1651.33, 1834.41, 1934.17, 1308.57, 2058.37, 1187.85, 1890.68, 1379.86, 1736.61, 1751.65, 1598.68, 1674.9, 1317.56, 1457.74, 1116.41, 1444.24, 838.61, 1274.91, 612.68, 1146.3, 576.826, 1139.85, 461.427, 1096.83, 347.932, 1076.72, 315.448, 1075.18, 467.96, 1082.49, 552.893, 1095.03, 750.188, 1043.03, 812.188, 979.034, 868.188, 887.034, 888.188, 821.034, 838.188, 743.034, 786.188, 573.034, 932.188, 379.034, 938.188, 335.034, 864.188, 311.034, 784.188, 267.034, 736.188, 201.034, 742.188, 109.034, 748.188, 100.06, 1350.69, -230.862, 1400.65, -417.377, 1175.38, -509.237, 949.356, -631.844, 744.592, -966.48, 622.544, -978.499, 83.5828, -277.751, -9.24353, 573.502, -33.2145, 1156.44, -95.6941 )
disabled = true
__meta__ = {
"_editor_description_": ""
}

[connection signal="finished" from="Test Interface/Control/AttackSound" to="Test Interface/Control" method="_on_AttackSound_finished"]
[connection signal="toggled" from="Test Interface/DebugButton" to="AgentControl" method="_on_DebugButton_toggled"]
[connection signal="toggled" from="Test Interface/DebugButton" to="VectorField" method="_on_DebugButton_toggled"]
