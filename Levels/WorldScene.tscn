[gd_scene load_steps=20 format=2]

[ext_resource path="res://Scripts/Control.gd" type="Script" id=1]
[ext_resource path="res://Scripts/AgentControl.gd" type="Script" id=2]
[ext_resource path="res://Scripts/CameraScript.gd" type="Script" id=3]
[ext_resource path="res://Scripts/WorldScript.gd" type="Script" id=4]
[ext_resource path="res://Levels/Path.gd" type="Script" id=5]
[ext_resource path="res://Art/TexturesCom_Meat0016_seamless_S.jpg" type="Texture" id=6]
[ext_resource path="res://Levels/VectorField.gd" type="Script" id=7]
[ext_resource path="res://Sounds/211389__monica137142__underwater.mp3" type="AudioStream" id=8]
[ext_resource path="res://Levels/BloodFlowSounds.gd" type="Script" id=9]
[ext_resource path="res://Sounds/explosion.mp3" type="AudioStream" id=10]
[ext_resource path="res://icon.png" type="Texture" id=11]
[ext_resource path="res://Art/Shaders/new_visualshader.tres" type="Shader" id=12]

[sub_resource type="Curve2D" id=1]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 112.155, 1605, 0, 0, 0, 0, 1190.66, -403.213 )
}

[sub_resource type="CircleShape2D" id=2]

[sub_resource type="ShaderMaterial" id=3]
shader = ExtResource( 12 )

[sub_resource type="CircleShape2D" id=4]
radius = 886.05

[sub_resource type="ShaderMaterial" id=5]
shader = ExtResource( 12 )

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 795.59, 23.4748 )

[sub_resource type="RectangleShape2D" id=7]
extents = Vector2( 112.246, 4.08958 )

[node name="WorldScene" type="Node2D"]
script = ExtResource( 4 )
__meta__ = {
"_edit_horizontal_guides_": [  ]
}

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 2525.61, 1516.88 )
current = true
zoom = Vector2( 3, 3 )
script = ExtResource( 3 )
defaultZoom = 5.0

[node name="BloodFlowSounds" type="AudioStreamPlayer" parent="Camera2D"]
stream = ExtResource( 8 )
autoplay = true
script = ExtResource( 9 )

[node name="ParallaxBackground" type="ParallaxBackground" parent="Camera2D"]
scroll_offset = Vector2( 2, 2 )

[node name="Sprite" type="Sprite" parent="Camera2D/ParallaxBackground"]
modulate = Color( 0.32549, 0.266667, 0.266667, 1 )
position = Vector2( 2798.5, 1621.65 )
scale = Vector2( 8.37564, 8.37564 )
texture = ExtResource( 6 )

[node name="AgentControl" type="Node2D" parent="."]
script = ExtResource( 2 )
agentPath = NodePath("Agent")
enemyPath = NodePath("AgentEnemy1")
FlowMap = NodePath("../VectorField")
path = NodePath("../Path")
separation = 0.5
alignment = 0.5
cohesion = 0.6
followpaths = false
agentAmount = 200
agentSpawnArea = 500.0
neighborDist = 80.0
forceMultiplier = 5.0
boundsX = 5000
boundsY = 3000

[node name="Agent" parent="AgentControl" instance_placeholder="res://Scripts/Objects/Agent.tscn"]
steerUpdateInterval = 0.0

[node name="AgentEnemy1" parent="AgentControl" instance_placeholder="res://Scripts/Objects/Agent.tscn"]
maxSpeed = 2
health = 600.0
armor = 65.0
id = 1
wander = true
targetseek = 0.0

[node name="Test Interface" type="CanvasLayer" parent="."]

[node name="MouseCoord" type="Label" parent="Test Interface"]
anchor_right = 0.039
anchor_bottom = 0.052
margin_left = 33.8541
margin_top = 30.2905
margin_right = 33.9181
margin_bottom = 30.0905
text = "TEXT
"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="FlowMapValue" type="Label" parent="Test Interface"]
anchor_right = 0.039
anchor_bottom = 0.052
margin_left = 33.8541
margin_top = 46.6695
margin_right = 33.9181
margin_bottom = 46.4695
text = "TEXT
"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MapCoord" type="Label" parent="Test Interface"]
visible = false
anchor_right = 0.039
anchor_bottom = 0.052
margin_left = 33.8541
margin_top = 46.6695
margin_right = 33.9181
margin_bottom = 46.4695
text = "TEXT
"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Control" type="Control" parent="Test Interface"]
margin_right = 40.0
margin_bottom = 40.0
script = ExtResource( 1 )
__meta__ = {
"_edit_use_anchors_": false
}
mouseCoordLabel = NodePath("../MouseCoord")
agentControl = NodePath("../../AgentControl")
flowMapLabel = NodePath("../FlowMapValue")

[node name="AttackSound" type="AudioStreamPlayer2D" parent="Test Interface/Control"]
stream = ExtResource( 10 )

[node name="DebugButton" type="Button" parent="Test Interface"]
margin_right = 12.0
margin_bottom = 20.0
toggle_mode = true
text = "debug"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VectorField" type="Node2D" parent="."]
script = ExtResource( 7 )
AgentControl = NodePath("../AgentControl")
resolution = 20
noiseZoom = 1.0
drawVectorLength = 20

[node name="Path" type="Path2D" parent="."]
self_modulate = Color( 0.501961, 0.6, 1, 1 )
position = Vector2( -228.327, 190.273 )
curve = SubResource( 1 )
script = ExtResource( 5 )

[node name="ball" type="RigidBody2D" parent="."]
position = Vector2( 3962.58, 1191.66 )
scale = Vector2( 4.67993, 4.67993 )
can_sleep = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="ball"]
scale = Vector2( 10, 10 )
shape = SubResource( 2 )

[node name="Sprite" type="Sprite" parent="ball"]
material = SubResource( 3 )
scale = Vector2( 10, 10 )
texture = ExtResource( 11 )

[node name="thingy" type="KinematicBody2D" parent="."]
position = Vector2( 4280, 2312 )
scale = Vector2( 2.13983, 2.13983 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="thingy"]
scale = Vector2( 0.4, 0.4 )
shape = SubResource( 4 )

[node name="Sprite" type="Sprite" parent="thingy"]
scale = Vector2( 10, 10 )
texture = ExtResource( 11 )

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="Polygon2D" type="Polygon2D" parent="StaticBody2D"]
material = SubResource( 5 )
position = Vector2( 6150.88, 1269.35 )
rotation = -3.0438
scale = Vector2( 3.13191, 3.13191 )
texture_scale = Vector2( 0.286, 0.452 )
polygon = PoolVector2Array( 159.034, 98.1882, 215.034, 34.1882, 269.034, 18.1882, 349.034, 30.1882, 389.034, 102.188, 369.034, 148.188, 391.034, 212.188, 431.034, 230.188, 475.034, 232.188, 513.034, 214.188, 535.034, 160.188, 511.034, 84.1882, 579.034, 38.1882, 699.034, 14.1882, 761.034, 44.1882, 825.034, 104.188, 883.034, 176.188, 965.034, 182.188, 1115.03, 200.188, 1203.03, 172.188, 1231.03, 122.188, 1281.03, 56.1882, 1379.03, 48.1882, 1473.03, 80.1882, 1505.03, 138.188, 1485.03, 196.188, 1455.03, 242.188, 1439.03, 302.188, 1455.03, 362.188, 1489.03, 392.188, 1575.03, 394.188, 1613.03, 364.188, 1683.03, 312.188, 1695.03, 380.188, 1673.03, 436.188, 1625.03, 470.188, 1613.03, 522.188, 1647.03, 598.188, 1667.03, 646.188, 1661.03, 718.188, 1593.03, 788.188, 1467.03, 842.188, 1389.03, 876.188, 1215.03, 768.188, 1095.03, 750.188, 1043.03, 812.188, 979.034, 868.188, 887.034, 888.188, 821.034, 838.188, 743.034, 786.188, 623.034, 842.188, 617.034, 896.188, 573.034, 932.188, 473.034, 950.188, 379.034, 938.188, 335.034, 864.188, 311.034, 784.188, 267.034, 736.188, 201.034, 742.188, 109.034, 748.188, 57.0341, 782.188, -78.9659, 762.188, -114.966, 708.188, -132.966, 630.188, -108.966, 526.188, -74.9659, 380.188, -156.966, 246.188, -80.9659, 96.1882, 135.034, 64.1882 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
visible = false
position = Vector2( 6150.88, 1269.35 )
rotation = -3.0438
scale = Vector2( 3.13191, 3.13191 )
polygon = PoolVector2Array( 159.034, 98.1882, 215.034, 34.1882, 269.034, 18.1882, 349.034, 30.1882, 389.034, 102.188, 369.034, 148.188, 391.034, 212.188, 431.034, 230.188, 475.034, 232.188, 513.034, 214.188, 535.034, 160.188, 511.034, 84.1882, 579.034, 38.1882, 699.034, 14.1882, 761.034, 44.1882, 825.034, 104.188, 883.034, 176.188, 965.034, 182.188, 1115.03, 200.188, 1203.03, 172.188, 1231.03, 122.188, 1281.03, 56.1882, 1379.03, 48.1882, 1473.03, 80.1882, 1505.03, 138.188, 1485.03, 196.188, 1455.03, 242.188, 1439.03, 302.188, 1455.03, 362.188, 1489.03, 392.188, 1575.03, 394.188, 1613.03, 364.188, 1683.03, 312.188, 1695.03, 380.188, 1673.03, 436.188, 1625.03, 470.188, 1613.03, 522.188, 1647.03, 598.188, 1667.03, 646.188, 1661.03, 718.188, 1593.03, 788.188, 1467.03, 842.188, 1389.03, 876.188, 1215.03, 768.188, 1095.03, 750.188, 1043.03, 812.188, 979.034, 868.188, 887.034, 888.188, 821.034, 838.188, 743.034, 786.188, 623.034, 842.188, 617.034, 896.188, 573.034, 932.188, 473.034, 950.188, 379.034, 938.188, 335.034, 864.188, 311.034, 784.188, 267.034, 736.188, 201.034, 742.188, 109.034, 748.188, 57.0341, 782.188, -78.9659, 762.188, -114.966, 708.188, -132.966, 630.188, -108.966, 526.188, -74.9659, 380.188, -156.966, 246.188, -80.9659, 96.1882, 135.034, 64.1882 )
__meta__ = {
"_editor_description_": ""
}

[node name="StaticBody2D2" type="StaticBody2D" parent="."]
collision_mask = 0

[node name="Polygon2D2" type="Polygon2D" parent="StaticBody2D2"]
visible = false
position = Vector2( 5158.24, 5190.84 )
rotation = -3.10334
scale = Vector2( 3.13191, 3.13191 )
color = Color( 1, 1, 1, 0.258824 )
texture = ExtResource( 6 )
texture_scale = Vector2( 0.286, 0.452 )
polygon = PoolVector2Array( 1734.75, 32.7056, 2055.95, 703.297, 2055, 1053.38, 2250.04, 1651.33, 1834.41, 1934.17, 1308.57, 2058.37, 1187.85, 1890.68, 1379.86, 1736.61, 1751.65, 1598.68, 1674.9, 1317.56, 1457.74, 1116.41, 1444.24, 838.61, 1274.91, 612.68, 1204.78, 666.291, 1095.03, 750.188, 1043.03, 812.188, 979.034, 868.188, 887.034, 888.188, 821.034, 838.188, 743.034, 786.188, 623.034, 842.188, 617.034, 896.188, 573.034, 932.188, 473.034, 950.188, 379.034, 938.188, 335.034, 864.188, 311.034, 784.188, 267.034, 736.188, 201.034, 742.188, 109.034, 748.188, 100.06, 1350.69, -230.862, 1400.65, -417.377, 1175.38, -509.237, 949.356, -631.844, 744.592, -966.48, 622.544, -978.499, 83.5828 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D2"]
visible = false
position = Vector2( 5329.74, 4058.9 )
rotation = -3.10334
scale = Vector2( 3.13191, 3.13191 )
polygon = PoolVector2Array( 1734.75, 32.7056, 2055.95, 703.297, 2055, 1053.38, 2250.04, 1651.33, 1834.41, 1934.17, 1308.57, 2058.37, 1187.85, 1890.68, 1379.86, 1736.61, 1751.65, 1598.68, 1674.9, 1317.56, 1457.74, 1116.41, 1444.24, 838.61, 1274.91, 612.68, 1146.3, 576.826, 1139.85, 461.427, 1096.83, 347.932, 1076.72, 315.448, 1075.18, 467.96, 1082.49, 552.893, 1095.03, 750.188, 1043.03, 812.188, 979.034, 868.188, 887.034, 888.188, 821.034, 838.188, 743.034, 786.188, 573.034, 932.188, 379.034, 938.188, 335.034, 864.188, 311.034, 784.188, 267.034, 736.188, 201.034, 742.188, 109.034, 748.188, 100.06, 1350.69, -230.862, 1400.65, -417.377, 1175.38, -509.237, 949.356, -631.844, 744.592, -966.48, 622.544, -978.499, 83.5828, -277.751, -9.24353, 573.502, -33.2145, 1156.44, -95.6941 )
disabled = true
__meta__ = {
"_editor_description_": ""
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D2"]
position = Vector2( 3836.16, 1896.02 )
rotation = -4.69626
scale = Vector2( 3.13191, 3.13191 )
shape = SubResource( 6 )

[node name="CollisionShape2D3" type="CollisionShape2D" parent="StaticBody2D2"]
position = Vector2( 408.137, 1812.73 )
rotation = 2.94716
scale = Vector2( 11.8072, 32.5164 )
shape = SubResource( 7 )

[node name="CollisionShape2D2" type="CollisionShape2D" parent="StaticBody2D2"]
position = Vector2( 2170.05, 2573.25 )
rotation = -2.87881
scale = Vector2( 3.13191, 3.13191 )
shape = SubResource( 6 )

[connection signal="finished" from="Test Interface/Control/AttackSound" to="Test Interface/Control" method="_on_AttackSound_finished"]
[connection signal="toggled" from="Test Interface/DebugButton" to="VectorField" method="_on_DebugButton_toggled"]
[connection signal="toggled" from="Test Interface/DebugButton" to="AgentControl" method="_on_DebugButton_toggled"]
